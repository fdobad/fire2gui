
Fire 2 Advances Analytics & Management Research Center presents,

    Fire Simulator Analytics Management
    (fire2am QGIS plugin)
    
    USER GUIDE

# Getting the software
## Installation
1. Getting QGIS
2. Getting the plugin

# Usage
## Preparation
1. Project: In an empty folder, name and save an empty qgis project.  
    This will setup the 'Project Home' folder in the 'Browser' panel.

2. Instance Rasters: 
    Copy the ascii raster files in the same folder.  
    Drag and drop from the 'Browser' panel into the 'Layers' panel  
    Set up the proper Coordinate Reference System (CRS) of each of them:  
        On the Layers panel, select layer(s), 2dary click, 'Set CRS'  
        _UTM 31N ETRS89 for PREVINCAT data_  
    Setup the project CRS:  
        Menu > Project > Properties (Ctrl+Shift+P) > CRS on the vertical left tab  
    __Unexpected and unexplained errors will arise if the CRSs are not correctly set!__
        
3. Run the Fire2am dialog window by:  
    3.1 Pressing the 'fire2am' icon, on the 'Plugins Toolbar'  
    3.2 Menu > Plugins > 'Fire Simulator Analytics Management' > 'setup and run a forest fire simulation'  

    (The other menu item is for advanced tinkering of setup of parameters)

4. The dialog will appear, its layout:
    - Tabs for organizing the workflow phases:
        - Instance setup: Layers used for the landscape, wheather files, ignitions
        - Run: simulation rules and run window
        - Results: Tables and plots that are not displayed as layers
    - Main buttons:
        - 'Restore Defaults' : For resetting changes, that are _persisted even if you accidentally close the dialog! (including with the simulation running on the background)_

## Instance setup
### Landscape

_Warning: All layers must be .asc files with matching CRS and extent._

Using the dialog comboboxes select raster layers for:
        - 'Surface fuel model SB'
        - 'Elevation'
        - 'Canopy Base Height'
        - 'Canopy Bulk Density'
        - 'Canopy Cover Fraction'

On the first opening of the dialog, fire2am will help you fill the layers ComboBoxes by reading the project's layers and try to match the layers names to:
        - 'Surface fuel model SB' : Any layer that has 'model' and 'asc' (ordered) in its name ~ 'model.*asc'. Or [Ff]uel
        - 'Elevation' : 'mdt.*asc' or [Ee]levation
        - 'Canopy Base Height' : 'cbh.*asc'
        - 'Canopy Bulk Density' :'cbd.*asc'
        - 'Canopy Cover Fraction' : 'fcc.*asc' or 'ccf.*asc'

### Weather
The lenght -rows- of the weather file bounds the length of the simulation -hours or periods.
1. Random weather creates one random draw of wind speed and direction, its lenght is ??
2. Constant weather lets the user decide, its length??
3. Weather files
        Instance, datetime, WS, WD, FireScenario


### Ignition
Random points are generated by the simulator ?
Ignition layer


# Known Bugs
1. Closing the project with the dialog open crashes!
